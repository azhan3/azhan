const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CvtmS-YC.js","assets/index-CcSBN5Iy.css"])))=>i.map(i=>d[i]);
import{i as D,u as j,m as P,r as c,M as Q,a as U,f as X,c as q,b,j as o,d,_ as G}from"./index-CvtmS-YC.js";function H(...t){const n=!Array.isArray(t[0]),a=n?0:-1,r=t[0+a],l=t[1+a],u=t[2+a],i=t[3+a],m=D(l,u,i);return n?m(r):m}function J(t){const n=j(()=>P(t)),{isStatic:a}=c.useContext(Q);if(a){const[,r]=c.useState(t);c.useEffect(()=>n.on("change",r),[])}return n}function N(t,n){const a=J(n()),r=()=>a.set(n());return r(),U(()=>{const l=()=>X.preRender(r,!1,!0),u=t.map(i=>i.on("change",l));return()=>{u.forEach(i=>i()),q(r)}}),a}function K(t){b.current=[],t();const n=N(b.current,t);return b.current=void 0,n}function f(t,n,a,r){if(typeof t=="function")return K(t);const l=typeof n=="function"?n:H(n,a,r);return Array.isArray(t)?w(t,l):w([t],([u])=>l(u))}function w(t,n){const a=j(()=>[]);return N(t,()=>{a.length=0;const r=t.length;for(let l=0;l<r;l++)a[l]=t[l].get();return n(a)})}let y=null;async function Z(){if(y)return y;const t=await G(()=>import("./index-CvtmS-YC.js").then(n=>n.t),__vite__mapDeps([0,1]));return y=t.default||t,y}const Y=[{top:"10%",left:"5%",scale:1},{top:"20%",left:"60%",scale:1.2},{top:"35%",left:"30%",scale:.9}];function te({scrollYProgress:t}){const[n,a]=c.useState(()=>typeof window>"u"?1280:window.innerWidth),[r,l]=c.useState(()=>typeof window>"u"?!1:window.matchMedia("(prefers-reduced-motion: reduce)").matches);c.useEffect(()=>{if(typeof window>"u")return;const e=()=>a(window.innerWidth);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),c.useEffect(()=>{if(typeof window>"u")return;const e=window.matchMedia("(prefers-reduced-motion: reduce)"),s=p=>l(p.matches);return l(e.matches),e.addEventListener("change",s),()=>e.removeEventListener("change",s)},[]);const u=c.useMemo(()=>n<=720?0:n>=1920?1:(n-720)/1200,[n]),i=c.useMemo(()=>{const e=(s,p)=>s+(p-s)*u;return{sky:e(-180,-360),mountainBack:e(-260,-460),mountainMid:e(-320,-2560),forest:e(-660,-3520),forestFront:e(-1020,-3840),forestForeground:e(-1360,-4220),forestClosest:e(-1420,-4820),canopy:e(-90,-170),river:e(-45,-110),roots:e(-25,-70)}},[u]),m=c.useMemo(()=>{const e=(s,p)=>s+(p-s)*u;return{back:e(36,18),mid:e(52,134),forest:e(78,230),forestFront:e(110,258),forestForeground:e(142,288),forestClosest:e(162,338)}},[u]),M=f(t,[0,1],[0,i.sky]),z=f(t,[0,1],[0,i.mountainBack]),T=f(t,[0,1],[0,i.mountainMid]),$=f(t,[0,1],[0,i.forest]),k=f(t,[0,1],[0,i.forestFront]),F=f(t,[0,1],[0,i.forestForeground]),C=f(t,[0,1],[0,i.forestClosest]),E=f(t,[0,1],[0,i.canopy]),_=f(t,[0,1],[0,i.river]),W=f(t,[0,1],[0,i.roots]),A=m.back,L=m.mid,I=m.forest,R=m.forestFront,S=m.forestForeground,g=m.forestClosest,V=g+10,v=!r&&n>=768,B=c.useMemo(()=>{const e=n>=1440?12:n>=960?9:7,s=r?Math.max(4,Math.floor(e/2)):e;return Array.from({length:s},(p,h)=>({top:`${30+Math.sin(h)*8}%`,left:`${10+h*(r?8.5:6.5)}%`}))},[n,r]);return c.useEffect(()=>{let e=null,s=null;if(!v)return;let p=!1;return Z().then(h=>{p||(e=h({targets:".cloud-element",translateX:[0,60],direction:"alternate",easing:"easeInOutSine",duration:12e3,loop:!0,delay:(O,x)=>x*900}),s=h({targets:".firefly",translateY:[0,-18],opacity:[{value:.2,duration:0},{value:.95,duration:2200},{value:.4,duration:2200}],scale:[.8,1.12,.88],easing:"easeInOutSine",direction:"alternate",loop:!0,duration:5200,delay:(O,x)=>200*x}))}).catch(h=>{console.warn("Failed to load anime.js for background animations",h)}),()=>{p=!0,e?.pause?.(),s?.pause?.()}},[v]),o.jsxs("div",{className:"pointer-events-none fixed inset-0 z-0 overflow-hidden",children:[o.jsx(d.div,{style:{y:M},className:"absolute inset-0 opacity-25 pointer-events-none z-10",children:Y.map((e,s)=>o.jsx("div",{className:"cloud-element absolute h-[160px] w-[320px] rounded-full bg-white/10 blur-3xl",style:{top:e.top,left:e.left,transform:`scale(${e.scale})`,mixBlendMode:"soft-light"}},`cloud-${s}`))}),o.jsx(d.div,{style:{y:z,top:`${A}vh`},className:"absolute inset-x-0 flex justify-center pointer-events-none z-20",children:o.jsx("img",{src:"/images/mountain0.svg",alt:"Mountain ridge backdrop",className:"block h-auto w-screen max-w-full object-contain",loading:"lazy",decoding:"async",draggable:!1,style:{objectPosition:"center bottom"}})}),o.jsx(d.div,{style:{y:T,top:`${L}vh`},className:"absolute inset-x-0 flex justify-center pointer-events-none z-30",children:o.jsx("img",{src:"/images/mountain1.svg",alt:"Foreground mountain ridge",className:"block h-auto w-screen max-w-full object-contain",loading:"lazy",decoding:"async",draggable:!1,style:{objectPosition:"center bottom"}})}),o.jsx(d.div,{style:{y:$,top:`${I}vh`},className:"absolute inset-x-0 flex justify-center pointer-events-none z-40",children:o.jsx("img",{src:"/images/forest0.svg",alt:"Midground forest canopy",className:"block h-auto w-screen max-w-full object-contain",loading:"lazy",decoding:"async",draggable:!1,style:{objectPosition:"center bottom"}})}),o.jsx(d.div,{style:{y:k,top:`${R}vh`},className:"absolute inset-x-0 flex justify-center pointer-events-none z-[45]",children:o.jsx("img",{src:"/images/forest1.svg",alt:"Foreground forest grove",className:"block h-auto w-screen max-w-full object-contain",loading:"lazy",decoding:"async",draggable:!1,style:{objectPosition:"center bottom"}})}),o.jsx(d.div,{style:{y:F,top:`${S}vh`},className:"absolute inset-x-0 flex justify-center pointer-events-none z-[47]",children:o.jsx("img",{src:"/images/forest2.svg",alt:"Near forest silhouettes",className:"block h-auto w-screen max-w-full object-contain",loading:"lazy",decoding:"async",draggable:!1,style:{objectPosition:"center bottom"}})}),o.jsx(d.div,{style:{y:C,top:`${g}vh`},className:"absolute inset-x-0 flex justify-center pointer-events-none z-[49]",children:o.jsx("img",{src:"/images/forest3.svg",alt:"Closest tree line",className:"block h-auto w-screen max-w-full object-contain",loading:"lazy",decoding:"async",draggable:!1,style:{objectPosition:"center bottom"}})}),o.jsx(d.div,{style:{y:E,top:`${V}vh`},className:"absolute inset-x-0 flex justify-center pointer-events-none z-50",children:o.jsx("div",{className:"relative h-[30vh] w-full max-w-5xl",children:B.map((e,s)=>o.jsx("span",{className:"firefly absolute h-2 w-2 rounded-full bg-amber-100/80 drop-shadow-[0_0_10px_rgba(255,255,255,0.45)]",style:{top:e.top,left:e.left}},`firefly-${s}`))})}),o.jsxs(d.div,{style:{y:_},className:"absolute inset-x-0 top-[95vh] h-[70vh] pointer-events-none z-20",children:[o.jsx("div",{className:"absolute inset-x-[12%] top-1/4 h-2 rounded-full bg-white/15 opacity-80 blur-sm animate-river-flow"}),o.jsx("div",{className:"absolute inset-x-[25%] top-1/2 h-[3px] rounded-full bg-white/10 opacity-70 blur-[2px] animate-river-flow"}),o.jsx("div",{className:"absolute inset-x-[18%] bottom-[22%] h-[5px] rounded-full bg-cyan-200/10 blur-md animate-river-flow"})]}),o.jsxs(d.div,{style:{y:W},className:"absolute inset-x-0 bottom-0 h-[60vh] pointer-events-none z-10",children:[o.jsx("div",{className:"absolute inset-x-[12%] bottom-[16%] h-px bg-white/8 opacity-80"}),o.jsx("div",{className:"absolute inset-x-[30%] bottom-[10%] h-[3px] rounded-full bg-amber-900/20 opacity-60"}),o.jsx("div",{className:"absolute inset-x-[45%] bottom-[6%] h-[2px] rounded-full bg-amber-700/15 opacity-60"})]})]})}export{te as Background,te as default};
